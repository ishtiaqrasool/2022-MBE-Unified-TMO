function Y = lum(X)
if size(X,3)==1, Y = X; return; end
Y = 0.2126.*X(:,:,1)+0.7152.*X(:,:,2)+0.0722.*X(:,:,3);
%Y = 0.299.*X(:,:,1)+0.587.*X(:,:,2)+0.114.*X(:,:,3);
end